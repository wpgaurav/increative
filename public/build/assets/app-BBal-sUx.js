class r{constructor(){this.toggle=document.getElementById("mobile-menu-toggle"),this.close=document.getElementById("mobile-menu-close"),this.menu=document.getElementById("mobile-menu"),this.toggle&&this.menu&&this.init()}init(){this.toggle.addEventListener("click",()=>this.open()),this.close?.addEventListener("click",()=>this.closeMenu()),document.addEventListener("keydown",e=>{e.key==="Escape"&&this.isOpen()&&this.closeMenu()}),this.menu.addEventListener("click",e=>{e.target===this.menu&&this.closeMenu()})}open(){this.menu.classList.add("is-open"),this.toggle.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden"}closeMenu(){this.menu.classList.remove("is-open"),this.toggle.setAttribute("aria-expanded","false"),document.body.style.overflow=""}isOpen(){return this.menu.classList.contains("is-open")}}class c{constructor(){this.toggle=document.getElementById("theme-toggle"),this.storageKey="increative-theme",this.toggle&&this.init()}init(){const e=localStorage.getItem(this.storageKey),t=window.matchMedia("(prefers-color-scheme: dark)").matches;e?document.documentElement.setAttribute("data-theme",e):t&&document.documentElement.setAttribute("data-theme","dark"),this.toggle.addEventListener("click",()=>this.toggleTheme()),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",s=>{localStorage.getItem(this.storageKey)||document.documentElement.setAttribute("data-theme",s.matches?"dark":"light")})}toggleTheme(){const t=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.setAttribute("data-theme",t),localStorage.setItem(this.storageKey,t)}}class a{constructor(){this.header=document.querySelector(".site-header"),this.lastScrollY=0,this.ticking=!1,this.header&&this.init()}init(){window.addEventListener("scroll",()=>{this.lastScrollY=window.scrollY,this.ticking||(window.requestAnimationFrame(()=>{this.update(),this.ticking=!1}),this.ticking=!0)})}update(){this.lastScrollY>100?this.header.classList.add("is-scrolled"):this.header.classList.remove("is-scrolled")}}class l{constructor(){this.init()}init(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const s=e.getAttribute("href");if(s==="#")return;const i=document.querySelector(s);i&&(t.preventDefault(),i.scrollIntoView({behavior:"smooth",block:"start"}))})})}}class d{constructor(){this.bar=document.querySelector(".reading-progress"),this.article=document.querySelector(".post-content"),this.bar&&this.article&&this.init()}init(){window.addEventListener("scroll",()=>{const e=this.article.offsetTop,t=this.article.offsetHeight,s=window.innerHeight,i=window.scrollY,n=Math.min(Math.max((i-e+s)/t,0),1);this.bar.style.transform=`scaleX(${n})`})}}class h{constructor(){this.init()}init(){document.querySelectorAll("pre").forEach(e=>{const t=document.createElement("button");t.className="copy-code-btn",t.innerHTML='<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>',t.title="Copy code",t.addEventListener("click",async()=>{const s=e.querySelector("code")?.textContent||e.textContent;try{await navigator.clipboard.writeText(s),t.innerHTML='<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>',setTimeout(()=>{t.innerHTML='<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>'},2e3)}catch(i){console.error("Failed to copy:",i)}}),e.style.position="relative",e.appendChild(t)})}}document.addEventListener("DOMContentLoaded",()=>{new r,new c,new a,new l,new d,new h});
